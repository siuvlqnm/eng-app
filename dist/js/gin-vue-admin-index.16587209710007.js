/*! 
 Build based on gin-vue-admin 
 Time : 1658720971000 */
var e=(e,a,l)=>new Promise(((t,i)=>{var o=e=>{try{n(l.next(e))}catch(a){i(a)}},s=e=>{try{n(l.throw(e))}catch(a){i(a)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,s);n((l=l.apply(e,a)).next())}));import{u as a,D as l,x as t,r as i,I as o,M as s,j as n,N as u,J as d,b as r,O as c,o as m,q as v,w as f,e as p,n as g,d as h,c as y,t as w,G as x,y as _,f as I,T as b,z as k,h as j,P as C,F as N,Q as M,K as A,v as L,R as P}from"../gva/gin-vue-admin-index.1658720971000.js";import T from"./gin-vue-admin-index.16587209710008.js";import z from"./gin-vue-admin-history.1658720971000.js";import D from"./gin-vue-admin-search.1658720971000.js";import G from"./gin-vue-admin-bottomInfo.1658720971000.js";import{C as O}from"./gin-vue-admin-index.16587209710009.js";import R from"./gin-vue-admin-index.165872097100010.js";import"./gin-vue-admin-index.165872097100011.js";import"./gin-vue-admin-menuItem.1658720971000.js";import"./gin-vue-admin-asyncSubmenu.1658720971000.js";import"./gin-vue-admin-index.165872097100012.js";const $=["src"],E={key:0,class:"gvaIcon gvaIcon-arrow-double-right"},U={key:1,class:"gvaIcon gvaIcon-arrow-double-left"},V={class:"right-box"},q={class:"dp-flex justify-content-center align-items height-full width-full"},B={class:"header-avatar",style:{cursor:"pointer"}},F={style:{"margin-left":"5px"}},H={style:{"font-weight":"600"}},J=j("个人信息"),K=j("登 出"),Q={name:"Layout"},S=Object.assign(Q,{setup(Q){const S=a(),W=l(),X=t(),Y=i(!1),Z=i(!0),ee=i(!1),ae=()=>{const e=document.body.clientWidth;e<1e3?(ee.value=!0,Z.value=!1,Y.value=!0):e>=1e3&&e<1200?(ee.value=!1,Z.value=!1,Y.value=!0):(ee.value=!1,Z.value=!0,Y.value=!1)};ae();const le=i(!1);o((()=>{s.emit("collapse",Y.value),s.emit("mobile",ee.value),s.on("reload",re),s.on("showLoading",(()=>{le.value=!0})),s.on("closeLoading",(()=>{le.value=!1})),window.onresize=()=>(ae(),s.emit("collapse",Y.value),void s.emit("mobile",ee.value)),te.loadingInstance&&te.loadingInstance.close()}));const te=n(),ie=u((()=>"dark"===te.sideMode?"#fff":"light"===te.sideMode?"#191a23":te.baseColor)),oe=u((()=>"dark"===te.sideMode?"#191a23":"light"===te.sideMode?"#fff":te.sideMode)),se=u((()=>W.meta.matched)),ne=a=>e(this,null,(function*(){0===(yield P({authorityId:a})).code&&(s.emit("closeAllPage"),setTimeout((()=>{window.location.reload()}),50))})),ue=i(!0);let de=null;const re=()=>e(this,null,(function*(){de&&window.clearTimeout(de),de=window.setTimeout((()=>e(this,null,(function*(){if(W.meta.keepAlive)ue.value=!1,yield d(),ue.value=!0;else{const e=W.meta.title;S.push({name:"Reload",params:{title:e}})}}))),400)})),ce=i(!1),me=()=>{Y.value=!Y.value,Z.value=!Y.value,ce.value=!Y.value,s.emit("collapse",Y.value)},ve=()=>{S.push({name:"person"})};return(e,a)=>{const l=r("el-row"),t=r("el-aside"),i=r("el-col"),o=r("el-breadcrumb-item"),s=r("el-breadcrumb"),n=r("arrow-down"),u=r("el-icon"),d=r("el-dropdown-item"),P=r("el-dropdown-menu"),Q=r("el-dropdown"),S=r("el-header"),ae=r("router-view"),de=r("el-main"),re=r("el-container"),fe=c("loading");return m(),v(re,{class:"layout-cont"},{default:f((()=>[p(re,{class:g([Z.value?"openside":"hideside",ee.value?"mobile":""])},{default:f((()=>[p(l,{class:g([ce.value?"shadowBg":""]),onClick:a[0]||(a[0]=e=>(ce.value=!ce.value,Z.value=!!Y.value,void me()))},null,8,["class"]),p(t,{class:"main-cont main-left gva-aside"},{default:f((()=>[h("div",{class:"tilte",style:x({background:_(oe)})},[h("img",{alt:"",class:"logoimg",src:e.$GIN_VUE_ADMIN.appLogo},null,8,$),Z.value?(m(),y("div",{key:0,class:"tit-text",style:x({color:_(ie)})},w(e.$GIN_VUE_ADMIN.appName),5)):I("",!0)],4),p(T,{class:"aside"})])),_:1}),p(de,{class:"main-cont main-right"},{default:f((()=>[p(b,{duration:{enter:800,leave:100},mode:"out-in",name:"el-fade-in-linear"},{default:f((()=>[h("div",{style:x({width:`calc(100% - ${ee.value?"0px":Y.value?"54px":"220px"})`}),class:"topfix"},[p(l,null,{default:f((()=>[p(i,null,{default:f((()=>[p(S,{class:"header-cont"},{default:f((()=>[p(l,{class:"pd-0"},{default:f((()=>[p(i,{xs:2,lg:1,md:1,sm:1,xl:1,style:{"z-index":"100"}},{default:f((()=>[h("div",{class:"menu-total",onClick:me},[Y.value?(m(),y("div",E)):(m(),y("div",U))])])),_:1}),p(i,{xs:10,lg:14,md:14,sm:9,xl:14,pull:1},{default:f((()=>[p(s,{class:"breadcrumb"},{default:f((()=>[(m(!0),y(N,null,k(_(se).slice(1,_(se).length),(e=>(m(),v(o,{key:e.path},{default:f((()=>[j(w(_(C)(e.meta.title,_(W))),1)])),_:2},1024)))),128))])),_:1})])),_:1}),p(i,{xs:12,lg:9,md:9,sm:14,xl:9},{default:f((()=>[h("div",V,[p(D),p(Q,null,{dropdown:f((()=>[p(P,{class:"dropdown-group"},{default:f((()=>[p(d,null,{default:f((()=>[h("span",H," 当前角色："+w(_(te).userInfo.authority.authorityName),1)])),_:1}),_(te).userInfo.authorities?(m(!0),y(N,{key:0},k(_(te).userInfo.authorities.filter((e=>e.authorityId!==_(te).userInfo.authorityId)),(e=>(m(),v(d,{key:e.authorityId,onClick:a=>ne(e.authorityId)},{default:f((()=>[h("span",null," 切换为："+w(e.authorityName),1)])),_:2},1032,["onClick"])))),128)):I("",!0),p(d,{icon:"avatar",onClick:ve},{default:f((()=>[J])),_:1}),p(d,{icon:"reading-lamp",onClick:_(te).LoginOut},{default:f((()=>[K])),_:1},8,["onClick"])])),_:1})])),default:f((()=>[h("div",q,[h("span",B,[p(O),h("span",F,w(_(te).userInfo.nickName),1),p(u,null,{default:f((()=>[p(n)])),_:1})])])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(z,{ref:"layoutHistoryComponent"},null,512)],4)])),_:1}),ue.value?M((m(),v(ae,{key:0,"element-loading-text":"正在加载中",class:"admin-box"},{default:f((({Component:e})=>[h("div",null,[p(b,{mode:"out-in",name:"el-fade-in-linear"},{default:f((()=>[(m(),v(A,{include:_(X).keepAliveRouters},[(m(),v(L(e)))],1032,["include"]))])),_:2},1024)])])),_:1})),[[fe,le.value]]):I("",!0),p(G),p(R)])),_:1})])),_:1},8,["class"])])),_:1})}}});export{S as default};
