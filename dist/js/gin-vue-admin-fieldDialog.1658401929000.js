/*! 
 Build based on gin-vue-admin 
 Time : 1658401929000 */
import{a as e,t as l}from"./gin-vue-admin-stringFun.1658401929000.js";import{g as a}from"./gin-vue-admin-sysDictionary.1658401929000.js";import{W as u}from"./gin-vue-admin-warningBar.1658401929000.js";import{_ as d,r as o,b as t,o as i,c as r,e as n,w as m,F as p,z as s,q as f,p as v,l as c,d as b}from"../gva/gin-vue-admin-index.1658401929000.js";const g=(e=>(v("data-v-0cf8ff5b"),e=e(),c(),e))((()=>b("span",{style:{"font-size":"12px"}},"自动填充",-1))),y={name:"FieldDialog"};var V=d(Object.assign(y,{props:{dialogMiddle:{type:Object,default:function(){return{}}}},setup(d,{expose:v}){const c=d,b=o({}),y=o([]),V=o([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"}]),_=o([{label:"字符串",value:"string"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"}]),h=o({fieldName:[{required:!0,message:"请输入field英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入field中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入field格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择field数据类型",trigger:"blur"}]});(()=>{return e=this,l=null,u=function*(){b.value=c.dialogMiddle;const e=yield a({page:1,pageSize:999999});y.value=e.data.list},new Promise(((a,d)=>{var o=e=>{try{i(u.next(e))}catch(l){d(l)}},t=e=>{try{i(u.throw(e))}catch(l){d(l)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,t);i((u=u.apply(e,l)).next())}));var e,l,u})();const T=()=>{b.value.fieldJson=e(b.value.fieldName),b.value.columnName=l(b.value.fieldJson)},U=()=>{b.value.fieldSearchType="",b.value.dictType=""},w=o(null);return v({fieldDialogFrom:w}),(e,l)=>{const a=t("el-input"),d=t("el-button"),o=t("el-form-item"),v=t("el-option"),c=t("el-select"),F=t("el-switch"),N=t("el-form");return i(),r("div",null,[n(u,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),n(N,{ref_key:"fieldDialogFrom",ref:w,model:b.value,"label-width":"120px","label-position":"right",rules:h.value,class:"grid-form"},{default:m((()=>[n(o,{label:"Field名称",prop:"fieldName"},{default:m((()=>[n(a,{modelValue:b.value.fieldName,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),n(d,{size:"small",style:{width:"18%","margin-left":"2%"},onClick:T},{default:m((()=>[g])),_:1})])),_:1}),n(o,{label:"Field中文名",prop:"fieldDesc"},{default:m((()=>[n(a,{modelValue:b.value.fieldDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(o,{label:"FieldJSON",prop:"fieldJson"},{default:m((()=>[n(a,{modelValue:b.value.fieldJson,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(o,{label:"数据库字段名",prop:"columnName"},{default:m((()=>[n(a,{modelValue:b.value.columnName,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(o,{label:"数据库字段描述",prop:"comment"},{default:m((()=>[n(a,{modelValue:b.value.comment,"onUpdate:modelValue":l[4]||(l[4]=e=>b.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(o,{label:"Field数据类型",prop:"fieldType"},{default:m((()=>[n(c,{modelValue:b.value.fieldType,"onUpdate:modelValue":l[5]||(l[5]=e=>b.value.fieldType=e),style:{width:"100%"},placeholder:"请选择field数据类型",clearable:"",onChange:U},{default:m((()=>[(i(!0),r(p,null,s(_.value,(e=>(i(),f(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(o,{label:"enum"===b.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:m((()=>[n(a,{modelValue:b.value.dataTypeLong,"onUpdate:modelValue":l[6]||(l[6]=e=>b.value.dataTypeLong=e),placeholder:"enum"===b.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),n(o,{label:"Field查询条件",prop:"fieldSearchType"},{default:m((()=>[n(c,{modelValue:b.value.fieldSearchType,"onUpdate:modelValue":l[7]||(l[7]=e=>b.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择Field查询条件",clearable:""},{default:m((()=>[(i(!0),r(p,null,s(V.value,(e=>(i(),f(v,{key:e.value,label:e.label,value:e.value,disabled:"string"!==b.value.fieldType&&"LIKE"===e.value},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(o,{label:"关联字典",prop:"dictType"},{default:m((()=>[n(c,{modelValue:b.value.dictType,"onUpdate:modelValue":l[8]||(l[8]=e=>b.value.dictType=e),style:{width:"100%"},disabled:"int"!==b.value.fieldType,placeholder:"请选择字典",clearable:""},{default:m((()=>[(i(!0),r(p,null,s(y.value,(e=>(i(),f(v,{key:e.type,label:`${e.type}(${e.name})`,value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),n(o,{label:"是否必填"},{default:m((()=>[n(F,{modelValue:b.value.require,"onUpdate:modelValue":l[9]||(l[9]=e=>b.value.require=e)},null,8,["modelValue"])])),_:1}),n(o,{label:"是否可清空"},{default:m((()=>[n(F,{modelValue:b.value.clearable,"onUpdate:modelValue":l[10]||(l[10]=e=>b.value.clearable=e)},null,8,["modelValue"])])),_:1}),n(o,{label:"校验失败文案"},{default:m((()=>[n(a,{modelValue:b.value.errorText,"onUpdate:modelValue":l[11]||(l[11]=e=>b.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-0cf8ff5b"]]);export{V as default};
